<!-- HEADER -->
<header>
  <div class="header-container">
    <div class="logo">TripSaver</div>
    
    <button class="hamburger-btn" (click)="toggleMenu()" [class.active]="isMenuOpen" aria-label="Toggle menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <nav [class.mobile-open]="isMenuOpen">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMenu()">Home</a>
      <a routerLink="/hotels" routerLinkActive="active" (click)="closeMenu()">Hotels</a>
      <!-- <a routerLink="/flights" routerLinkActive="active" (click)="closeMenu()">Flights</a> -->
      <a routerLink="/deals" routerLinkActive="active" (click)="closeMenu()">Deals</a>
      <a routerLink="/how-it-works" routerLinkActive="active" (click)="closeMenu()">How It Works</a>
      <a routerLink="/methodology" routerLinkActive="active" (click)="closeMenu()">Methodology</a>
      <a routerLink="/contact" routerLinkActive="active" (click)="closeMenu()">Contact</a>
      <a routerLink="/about" routerLinkActive="active" (click)="closeMenu()">About</a>
    </nav>
  </div>
</header>

<!-- HERO SECTION - Screen 1: Landing / Entry (Engine 1 - Destination Scoring) -->
<section class="hero-section">
  <div class="container">
    <div class="hero-content">
      <h1 class="hero-headline">
        Find the best destination for <strong>YOU</strong> ‚Äî powered by smart scoring
      </h1>
      <p class="hero-subtext">
        Not ads. Not opinions. Data-backed travel recommendations.
      </p>

      <!-- SMART INPUT CARD -->
      <div class="smart-input-card">
        <form (ngSubmit)="submitDestinationPreferences()" class="preference-form">
          
          <!-- When are you traveling? -->
          <div class="form-group">
            <label for="travel-month">When are you traveling? <span class="required">*</span></label>
            <select 
              id="travel-month"
              [(ngModel)]="travelMonth"
              name="travelMonth"
              class="form-input"
              required>
              <option value="" disabled>Select a month</option>
              <option *ngFor="let month of monthOptions" [value]="month">{{ month }}</option>
            </select>
          </div>

          <!-- Your budget range -->
          <div class="form-group">
            <label for="budget-range">Your budget range <span class="required">*</span></label>
            <select 
              id="budget-range"
              [(ngModel)]="budgetRange"
              name="budgetRange"
              class="form-input"
              required>
              <option value="" disabled>Select budget</option>
              <option *ngFor="let option of budgetOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
          </div>

          <!-- Your interests -->
          <div class="form-group">
            <label>Your interests <span class="required">*</span></label>
            <div class="interest-grid">
              <div *ngFor="let interest of interestOptions" class="interest-checkbox">
                <input 
                  [id]="interest.value"
                  type="checkbox"
                  [checked]="isInterestSelected(interest.value)"
                  (change)="toggleInterest(interest.value)">
                <label [for]="interest.value">{{ interest.label }}</label>
              </div>
            </div>
          </div>

          <!-- Climate preference -->
          <div class="form-group">
            <label for="climate">Climate preference <span class="required">*</span></label>
            <select 
              id="climate"
              [(ngModel)]="climatePreference"
              name="climatePreference"
              class="form-input"
              required>
              <option value="" disabled>Select climate</option>
              <option *ngFor="let option of climateOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
          </div>

          <!-- CTA Button -->
          <div class="form-actions">
            <button type="submit" class="btn-primary">
              Get Recommendations ‚Üí
            </button>
            <button type="button" class="btn-secondary" (click)="resetForm()">
              Reset
            </button>
          </div>

        </form>
      </div>

      <!-- TRUST STRIP -->
      <div class="trust-strip">
        <div class="trust-item">
          <span class="check-icon">‚úî</span>
          <span>Transparent scoring</span>
        </div>
        <div class="trust-item">
          <span class="check-icon">‚úî</span>
          <span>No forced bookings</span>
        </div>
        <div class="trust-item">
          <span class="check-icon">‚úî</span>
          <span>Affiliate links disclosed</span>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- About TripSaver Section -->
<section class="about-tripsaver">
  <div class="container">
    <p class="about-text">
      TripSaver is a travel recommendation platform that helps users choose the most suitable booking website based on their travel preferences. We redirect users to trusted partners like Agoda and MakeMyTrip to complete bookings.
    </p>
  </div>
</section>

<!-- Requirement Form Modal -->
<app-requirement-form 
  *ngIf="showRequirementForm"
  (formSubmit)="handleFormSubmit($event)"
  (closeForm)="closeRequirementForm()">
</app-requirement-form>

<!-- Recommendation Result Modal -->
<app-recommendation-result
  *ngIf="showRecommendationResult && userRequirements"
  [requirements]="userRequirements"
  (closeResult)="closeRecommendationResult()">
</app-recommendation-result>

<!-- QUICK ACTION CTAs - Visible Without Scrolling -->
<section class="quick-cta-bar" style="display: none;">
  <div class="container">
    <div class="quick-cta-grid">
      <a routerLink="/hotels" class="quick-cta-card">
        <span class="material-icons">hotel</span>
        <div class="quick-cta-text">
          <strong>Compare Hotel Prices</strong>
          <small>Agoda</small>
        </div>
      </a>
      <!-- <a routerLink="/flights" class="quick-cta-card">
        <span class="material-icons">flight</span>
        <div class="quick-cta-text">
          <strong>Find Cheap Flights</strong>
          <small>All Airlines, Best Deals</small>
        </div>
      </a> -->
      <a routerLink="/deals" class="quick-cta-card">
        <span class="material-icons">local_offer</span>
        <div class="quick-cta-text">
          <strong>Today's Top Deals</strong>
          <small>Up to 50% Off</small>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- AGODA WIDGET - PRIME POSITION UNDER HERO -->
<!-- <section class="agoda-widget-hero">
  <div class="container">
    <div class="section-header">
      <h2>üè® Search Hotels Instantly</h2>
      <p>Compare prices and book your perfect stay with exclusive Agoda deals</p>
    </div>
    <div class="agoda-widget-wrapper">
      <div id="adgshp-30325076"></div>
    </div>
    <div class="widget-footer-text">
      <p><i class="fas fa-shield-alt"></i> Secure booking ‚Ä¢ Best price guarantee ‚Ä¢ Instant confirmation</p>
    </div>
  </div>
</section> -->

<!-- CATEGORY CARDS SECTION -->
<!-- <section id="categories" class="categories-section">
  <div class="container">
    <div class="section-header">
      <h2>Browse by Category</h2>
      <p>Explore deals across different categories and save on everything you need</p>
    </div>
    <app-category-cards [categories]="categories"></app-category-cards>
  </div>
</section> -->

<!-- FEATURED DEALS SECTION -->
<section id="deals">
  <!-- <app-featured-deals></app-featured-deals> -->
</section>

<!-- EXISTING COMPONENTS -->
<app-popular-destinations></app-popular-destinations>

<!-- AGODA HOTELS FROM CSV DATA -->
<app-agoda-hotels></app-agoda-hotels>

<app-top-deals></app-top-deals>

<!-- AI RECOMMENDATIONS - Shown after form submission -->
<app-smart-recommendations *ngIf="showSmartRecommendations"></app-smart-recommendations>

<!-- TRAVEL GUIDES / DESTINATION GUIDES -->
<section class="destination-guides-section">
  <div class="container">
    <div class="section-header">
      <h2>üìö Destination Guides</h2>
      <p>Expert tips and insights for your next trip with the best hotel deals</p>
    </div>
    <div class="guides-grid">
      <article class="guide-card">
        <div class="guide-image">
          <img src="https://picsum.photos/seed/goa-guide/400/250" alt="Goa Hotels Guide" loading="lazy">
          <div class="guide-overlay"></div>
          <span class="guide-badge badge-popular">üî• Popular</span>
        </div>
        <div class="guide-body">
          <h3>Top Hotels in Goa</h3>
          <p>Discover the best beachfront resorts and budget hotels in Goa with exclusive Agoda deals</p>
          <a href="https://www.agoda.com/search?city=8883&cid=1955073" 
             target="_blank" 
             rel="nofollow sponsored noopener"
             class="guide-link">
            <span class="material-icons">hotel</span>
            Browse Goa Hotels ‚Üí
          </a>
        </div>
      </article>

      <article class="guide-card">
        <div class="guide-image">
          <img src="https://picsum.photos/seed/bangkok-guide/400/250" alt="Bangkok Hotels Guide" loading="lazy">
          <div class="guide-overlay"></div>
          <span class="guide-badge badge-budget">üí∞ Budget</span>
        </div>
        <div class="guide-body">
          <h3>Budget Hotels Bangkok</h3>
          <p>Save more with our curated list of affordable stays in Bangkok's best neighborhoods</p>
          <a href="https://www.agoda.com/search?city=1216&cid=1955073" 
             target="_blank" 
             rel="nofollow sponsored noopener"
             class="guide-link">
            <span class="material-icons">hotel</span>
            Browse Bangkok Hotels ‚Üí
          </a>
        </div>
      </article>

      <article class="guide-card">
        <div class="guide-image">
          <img src="https://picsum.photos/seed/dubai-guide/400/250" alt="Dubai Hotels Guide" loading="lazy">
          <div class="guide-overlay"></div>
          <span class="guide-badge badge-luxury">‚ú® Luxury</span>
        </div>
        <div class="guide-body">
          <h3>Luxury Stay Dubai</h3>
          <p>Experience world-class hospitality in Dubai's finest 5-star hotels and resorts</p>
          <a href="https://www.agoda.com/search?city=5085&cid=1955073" 
             target="_blank" 
             rel="nofollow sponsored noopener"
             class="guide-link">
            <span class="material-icons">hotel</span>
            Browse Dubai Hotels ‚Üí
          </a>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- WHY CHOOSE US -->
<section class="why-choose-section">
  <div class="container">
    <div class="section-header">
      <h2>What Makes TripSaver Unique?</h2>
      <p>We solve the confusion, not compete with booking platforms</p>
    </div>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon-circle">
          <span class="material-icons">apps</span>
        </div>
        <h3>Too Many Apps?</h3>
        <p>Stop juggling multiple platforms. Get one clear recommendation in 60 seconds.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon-circle">
          <span class="material-icons">psychology</span>
        </div>
        <h3>Confusing Offers?</h3>
        <p>No more analysis paralysis. We guide you to the platform that fits your needs best.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon-circle">
          <span class="material-icons">gps_fixed</span>
        </div>
        <h3>Wrong Platform?</h3>
        <p>Budget traveler on a luxury site? Business trip on a leisure app? We match you right.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon-circle">
          <span class="material-icons">schedule</span>
        </div>
        <h3>Wasting Time?</h3>
        <p>Answer 4 simple questions. Get your recommended platform. Done in 1 minute.</p>
      </div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS / FAQ -->
<section class="how-it-works-section">
  <div class="container">
    <div class="section-header">
      <h2>How Do We Decide Recommendations?</h2>
      <p>Transparent, preference-based guidance</p>
    </div>
    <div class="how-it-works-content">
      <div class="explanation-card">
        <div class="explanation-icon">
          <span class="material-icons">lightbulb</span>
        </div>
        <p class="explanation-text">
          We use a <strong>preference-based recommendation model</strong> that considers your travel type, destination, 
          and platform strengths such as inventory coverage, cancellation flexibility, and payment options. 
          <strong>We do not compare live prices or availability.</strong>
        </p>
      </div>
      
      <div class="features-breakdown">
        <div class="breakdown-item">
          <span class="material-icons">check_circle</span>
          <span>Your travel preferences (solo, couple, family, business)</span>
        </div>
        <div class="breakdown-item">
          <span class="material-icons">check_circle</span>
          <span>Destination type (domestic vs international)</span>
        </div>
        <div class="breakdown-item">
          <span class="material-icons">check_circle</span>
          <span>Platform strengths (luxury, budget, flexibility)</span>
        </div>
        <div class="breakdown-item">
          <span class="material-icons">check_circle</span>
          <span>Payment & cancellation preferences</span>
        </div>
      </div>

      <div class="learn-more-cta">
        <a routerLink="/how-it-works" class="learn-more-btn" (click)="scrollToTop()">
          <span class="material-icons">article</span>
          Learn More About Our Process
        </a>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<app-footer id="footer"></app-footer>
